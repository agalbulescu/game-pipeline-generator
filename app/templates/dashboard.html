{% extends "base.html" %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Pipeline Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/game-selector.css') }}">
</head>
<body class="dark-mode">
    <header>
        <h1>Game Selector v.2.0</h1>
        <button id="edit-games-button" onclick="toggleEditGames()">EDIT GAMES LIST</button>
        <div class="mode-toggle" onclick="toggleMode()">ðŸŒ“</div>
    </header>
    <div class="sub-title">Actions for All Games</div>
    <div class="buttons-container">
        <div class="left-buttons">
            <button onclick="toggleButton(this)">ALL</button>
            <button onclick="toggleButton(this)">PAYOUTS</button>
            <button onclick="toggleButton(this)">UI</button>
            <button onclick="toggleButton(this)">ANALYTICS</button>
            <button onclick="toggleButton(this)">SMAPP</button>
            <button onclick="toggleButton(this)">DESKTOP</button>
            <button onclick="toggleButton(this)">MOBILE</button>
            <button onclick="clearButtons()">CLEAR</button>
        </div>
    </div>
    <div id="edit-games">
        <h3>Games List</h3>
        <p>*any changes will be lost on page reload</p>
        <div id="games-list-container"></div>
        <button id="add-game-button" onclick="addGameEntry()">ADD GAME</button>
        <button id="save-games-button" onclick="saveGamesList()">SAVE GAMES LIST</button>
    </div>
    <div class="sub-title-2">Actions per Game</div>
    <table>
        <thead>
            <tr>
                <th rowspan="2">RUN</th>
                <th id="game-name-header" rowspan="2">Game Name</th> 
                <th colspan="4">Desktop & Mobile</th>
                <th colspan="4">Desktop</th>
                <th colspan="3">Mobile</th>
            </tr>
            <tr>
                <th>All</th>
                <th>Payouts</th>
                <th>UI</th>
                <th>Analytics</th>
                <th>SMApp</th>
                <th>Desktop Payouts</th>
                <th>Desktop UI</th>
                <th>Desktop Analytics</th>
                <th>Mobile Payouts</th>
                <th>Mobile UI</th>
                <th>Mobile Analytics</th>
            </tr>
        </thead>
        <tbody id="table-body"></tbody>
    </table>
    <div class="textbox-container">
        <button class="copy-button" onclick="copyText()">COPY</button>
        <textarea id="output-text" readonly></textarea>
    </div>

    <div class="pipeline-controls">
        <select id="branch-select" class="form-control">
            <option value="main">main</option>
            <option value="develop">develop</option>
        </select>
        <button id="generate-pipeline" class="btn btn-primary">
            Generate Pipeline
        </button>
    </div>
    <div id="pipeline-status" class="status-container"></div>

    <script src="{{ url_for('static', filename='js/game-selector.js') }}"></script>
    <script src="{{ url_for('static', filename='js/pipeline.js') }}"></script>
</body>
</html>
{% endblock %}